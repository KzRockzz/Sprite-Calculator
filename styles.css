:root{
  --header-h: 52px;
  --search-h: 56px;
  --kb: 0px;
  --accent: #59d1ff;
  --radius: 12px;
  --shadow: 0 6px 14px rgba(0,0,0,.22);
}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#0f1115;color:#e8eaed}
body.light{background:#f7f7f9;color:#111318}

.header{position:fixed;inset:0 0 auto 0;height:var(--header-h);display:flex;align-items:center;justify-content:space-between;padding:0 12px;background:rgba(10,12,16,.78);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06);z-index:10}
body.light .header{background:rgba(255,255,255,.9);border-bottom:1px solid rgba(0,0,0,.06)}
.header .title{font-weight:700}
.actions{display:flex;gap:6px}
.icon-btn{min-width:36px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.04);color:inherit;display:inline-flex;align-items:center;justify-content:center}
.small-btn{min-width:30px;height:30px;border-radius:9px;border:1px solid rgba(255,255,255,.1);background:rgba(255,255,255,.05);color:inherit}
body.light .icon-btn,body.light .small-btn{background:rgba(0,0,0,.04);border-color:rgba(0,0,0,.08)}

.main{padding-top:calc(var(--header-h) + 6px);padding-bottom:calc(var(--search-h) + 72px);max-width:820px;margin:0 auto}
#calcMount,#listMount{padding:10px 12px}

.search-wrap{position:fixed;left:0;right:0;height:var(--search-h);padding:6px 12px;display:flex;align-items:center;z-index:11;bottom:calc(env(safe-area-inset-bottom) + var(--kb))}
.search-inner{max-width:820px;margin:0 auto;width:100%}
.search{display:flex;gap:6px;align-items:center;border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:6px 8px;background:rgba(255,255,255,.06)}
.search input{flex:1;border:none;outline:none;background:transparent;color:inherit}

.fab{position:fixed;right:16px;bottom:calc(16px + env(safe-area-inset-bottom) + var(--kb));height:52px;width:52px;border-radius:50%;background:linear-gradient(180deg,var(--accent),#2ab8ff);color:#001018;border:none;box-shadow:var(--shadow);font-weight:800;z-index:12}

.modal{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center;z-index:50}
.modal.open{display:flex}
.backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(4px)}
.sheet{position:relative;width:100%;max-width:820px;border-top-left-radius:16px;border-top-right-radius:16px;background:#0f131c;border:1px solid rgba(255,255,255,.08);transform:translateY(100%);animation:slideUp .22s ease forwards}
@keyframes slideUp{to{transform:translateY(0)}}
.sheet-head{display:flex;align-items:center;justify-content:space-between;padding:8px 12px}
.sheet-body{padding:6px 12px 12px}
.title-sm{font-weight:700}
.muted{opacity:.75}
.row{display:flex;align-items:center;justify-content:space-between;gap:10px;margin:8px 0}

.modal.open .sheet{ margin-bottom: calc(env(safe-area-inset-bottom) + var(--kb)); }
